## Edit people.yml in this directory to add people! :)

<%inherit file="base.tpl"/>

<%block name="title">
Scientific Computing Group | People
</%block>

<%block name="content">

<%
import re

def reampurl(somestring):
  return re.sub('&(?!amp;)', '&amp;', somestring)

SOURCES.insert(0, ("data", "people.yml"))

import yaml
from codecs import open
with open("people.yml", "rt", encoding="utf-8") as inf:
  people = yaml.load(inf)

%>


<h1>Faculty</h1>

<% counter = 0 %>
%for p in people:
  <%
  if p["category"] not in ["faculty", "emeritus"]:
      continue
  %>

  %if counter == 0:
    <div class="row faculty-row">
  %elif counter % 3 == 0:
    </div>
    <div class="row faculty-row">
  %endif
  <% counter += 1 %>
  <div class="col-md-4">
    %if p.get("image"):
      <div style="height: 300px">
        <img src="images/people/scaled/${p["image"]}" alt="${p["name"]}" height="300" class="img-rounded">
      </div>
    %endif
    <h4>
      ${p["name"]}
      %if p["category"] == "emeritus":
      (Emeritus)
      %endif
    </h4>
    %if p.get("blurb"):
      <p>${p["blurb"]}</p>
    %endif
    %if p.get("url"):
        <a class="btn btn-default" href="${p["url"]}" role="button">
          Web page
         <i class="fa fa-external-link"></i>
        </a>
    %endif
  </div>
%endfor
</div>

<h1>Graduate Students</h1>

<% counter = 0 %>
%for p in people:
  <%
  if p["category"] != "grad":
      continue
  %>
  %if counter == 0:
    <div class="row grad-row">
  %elif counter % 3 == 0:
    </div>
    <div class="row grad-row">
  %endif
  <% counter += 1 %>
  <div class="col-md-4 grad-list">
    %if p.get("url"):
      <a href="${p["url"]}">${p["name"]} <i class="fa fa-external-link"></i></a>
    %else:
      ${p["name"]}
    %endif
  </div>
%endfor
</div>

<h1>Alumni</h1>

<ul class="multicol-list">
  %for p in [p for p in people if p["category"] == "alumni"]:
    <li>
    %if p.get("url"):
      <a href="${p["url"]}">${p["name"]}</a>
    %else:
      ${p["name"]}
    %endif
    (${p["degree_what"]} ${p["degree_year"]})
    </li>
  %endfor
</ul>

<h1>Former Faculty and Postdoctoral Research Associates</h1>

<ul class="multicol-list">
  %for p in [p for p in people if p["category"] == "former"]:
    <li>
    %if p.get("url"):
      <a href="${p["url"]}">${p["name"]}</a>
    %else:
      ${p["name"]}
    %endif
    </li>
  %endfor
</ul>

</%block>
