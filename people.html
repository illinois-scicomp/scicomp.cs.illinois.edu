## Edit people.yml in this directory to add people! :)

<%inherit file="base.tpl"/>

<%block name="title">
Scientific Computing Group | People
</%block>

<%block name="content">

<%
import re

def reampurl(somestring):
  return re.sub('&(?!amp;)', '&amp;', somestring)

SOURCES.insert(0, ("data", "people.yml"))

import yaml
from codecs import open
with open("people.yml", "rt", encoding="utf-8") as inf:
  people = yaml.load(inf)

%>

<%def name="col_list(who)">
  <% counter = 0 %>
  %for p in who:
    %if counter == 0:
      <div class="row faculty-row">
    %elif counter % 3 == 0:
      </div>
      <div class="row faculty-row">
    %endif
    <% counter += 1 %>
    <div class="col-md-4">
      %if p.get("image"):
        <div style="height: 300px">
          <img src="images/people/${p["image"]}" alt="${p["name"]}" height="300" class="img-rounded">
        </div>
      %endif
      <h4>
        ${p["name"]}
        %if p["category"] == "emeritus":
        (Emeritus)
        %endif
      </h4>
      %if p.get("url"):
        %if p.get("category")=="faculty" or p.get("category")=="emeritus":
          <a class="btn btn-default" href="${p["url"]}" role="button">
            Web page
           <i class="fa fa-external-link"></i>
          </a>
        %endif
        %if p.get("category") == "grad":
          <a href="${p["url"]}"><i class="fa fa-external-link"></i></a>
        %endif
      %endif
      %if p.get("blurb"):
        <p>${p["blurb"]}</p>
      %endif
    </div>
  %endfor
  </div>
</%def>

<h1>Faculty</h1>

${col_list([p for p in people if p["category"] in ["faculty", "emeritus"]])}

<h1>Graduate Students</h1>

${col_list([p for p in people if p["category"] == "grad"])}

<h1>Alumni</h1>

<ul class="multicol-list">
  %for p in [p for p in people if p["category"] == "alumni"]:
    <li>
    %if p.get("url"):
      <a href="${p["url"]}">${p["name"]}</a>
    %else:
      ${p["name"]}
    %endif
    (${p["degree_what"]} ${p["degree_year"]})
    </li>
  %endfor
</ul>

<h1>Former Faculty and Postdoctoral Research Associates</h1>

<ul class="multicol-list">
  %for p in [p for p in people if p["category"] == "former"]:
    <li>
    %if p.get("url"):
      <a href="${p["url"]}">${p["name"]}</a>
    %else:
      ${p["name"]}
    %endif
    </li>
  %endfor
</ul>

</%block>
